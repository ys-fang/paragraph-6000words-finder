# 英文文章單字比對工具

一個用於分析英文文章並與高中 6000 單字資料表進行比對的工具。

## 🎯 兩個版本可選

本專案提供兩個版本，您可以根據需求選擇：

1. **輕量版本** (`index.html`) - 無外部依賴，完全離線運行，91.7% 準確率 ⚡
2. **NLP版本** (`index_nlp.html`) - 使用 Compromise.js 進行智能分析，更高準確率 🤖

詳細比較請參考 [版本比較.md](版本比較.md)

## 功能特色

### 輕量版本 (`index.html`)
- ⚡ 無外部依賴，完全離線運行
- 📝 文字輸入框讓您貼上英文文章
- 🔍 使用自定義規則進行詞形還原（91.7% 準確率）
- 📊 統計資料顯示：總單字數、找到的單字、未找到的單字、涵蓋率
- 🎯 篩選功能：可選擇顯示全部、只顯示找到的、或只顯示未找到的單字
- 📋 表格呈現：文章中的單字、單字原型、對應標籤、中譯、CEFR 等級
- ⬇️ 一鍵下載完整分析結果為 TSV 檔案格式
- 🚀 極快速度，適合日常使用

### NLP版本 (`index_nlp.html`)
- 🤖 使用 Compromise.js 自然語言處理庫
- 🎓 智能詞性識別（動詞、名詞、形容詞等）
- 📈 預期更高的準確率（95%+）
- 🧠 基於上下文的詞形還原
- 📝 與輕量版本相同的使用者介面
- 🔄 一鍵切換到輕量版本
- 🌐 需要網路連接（載入 Compromise.js）

### 命令列測試版 (`test.js`)
- 🚀 自動化功能驗證
- 📈 詳細的測試報告
- 🔬 除錯資訊輸出
- 📄 自動生成 TSV 分析報告

## 使用方式

### 輕量版本

1. 在瀏覽器中開啟 `index.html` 檔案
2. 在輸入框中貼上您要分析的英文文章
3. 點擊「🔍 開始分析」按鈕
4. 查看分析結果和統計資料
5. 使用篩選功能或點擊「⬇️ 下載 TSV」下載結果

### NLP版本

1. 在瀏覽器中開啟 `index_nlp.html` 檔案
2. 確保有網路連接（首次載入需下載 Compromise.js）
3. 在輸入框中貼上您要分析的英文文章
4. 點擊「🔍 開始分析」按鈕
5. 查看分析結果和統計資料（預期更高準確率）
6. 使用篩選功能或點擊「⬇️ 下載 TSV」下載結果

### 命令列測試版

```bash
# 使用測試文章進行驗證
node test.js

# 測試結果會顯示在終端機，並自動生成 TSV 檔案
```

## 測試結果

使用 `test_para.txt` 進行測試：

- **總單字數**: 84 個
- **找到的單字**: 76 個
- **未找到的單字**: 8 個
- **涵蓋率**: **90.5%**

### 未找到的單字說明

1. **Taiwan** - 專有名詞，不在 6000 單字表中
2. **their, they, them, it** - 代名詞，不在 6000 單字表中
3. **s** - 所有格分隔符（today's → today + s）
4. **changing, challenges** - 詞形還原邊界案例

## 技術特色

### 智能資料載入
- 處理多種單字格式：
  - 斜線分割：`a/an` → `["a", "an"]`
  - 括號變化：`enjoy(ment)` → `["enjoy", "enjoyment"]`
  - 組合格式：`actor/actress` → `["actor", "actress"]`

### 詞形還原算法
- 不規則動詞對照表（40+ 常用動詞）
- 動詞變化：-ing, -ed, -ied
- 名詞複數：-s, -es, -ies
- 形容詞比較級/最高級：-er, -est, -ier, -iest
- 副詞：-ly
- 形容詞後綴：-ful

### 資料結構
從 `senior6000words.tsv` 載入：
- Label（標籤）
- 英文單字
- 音標
- 中文翻譯
- CEFR 等級（A1, A2, B1, B2, C1, C2）

## 檔案說明

- `index.html` - 輕量版本網頁應用程式（無外部依賴）
- `index_nlp.html` - NLP版本網頁應用程式（使用 Compromise.js）
- `senior6000words.tsv` - 6000 單字資料表（TSV 格式）
- `test_para.txt` - 測試用英文文章
- `test.js` - 自動化測試腳本
- `README.md` - 說明文件
- `版本比較.md` - 兩個版本的詳細比較
- `使用說明.txt` - 快速使用指南（繁體中文）

## 系統需求

### 輕量版本
- 現代瀏覽器（Chrome, Firefox, Safari, Edge）
- 需要能存取 `senior6000words.tsv` 檔案（建議使用本地伺服器）
- ✅ 無需網路連接

### NLP版本
- 現代瀏覽器（Chrome, Firefox, Safari, Edge）
- 需要能存取 `senior6000words.tsv` 檔案（建議使用本地伺服器）
- ⚠️ 首次載入需要網路連接（載入 Compromise.js）

### 命令列版
- Node.js 12.0 或更高版本

## 注意事項

- 輕量版本使用自定義詞形還原規則，完全離線運行
- NLP版本使用 Compromise.js 進行自然語言處理，需要網路載入
- 測試版本使用與輕量版本相同的自定義規則
- TSV 檔案使用 UTF-8 編碼，包含 BOM 以確保 Excel 正確開啟
- 下載的 TSV 檔案可直接用 Excel 或 Google Sheets 開啟
- 兩個版本可隨時切換，共享相同的資料表和功能

## 授權

此專案僅供教育用途使用。

